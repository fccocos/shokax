---
title: 数据链路层
tag:
  - 计算机网络
  - - 计算机网络
    - 数据链路层
valine: true
math: true
sticky: true
abbrlink: c8c4683d
date: 2023-06-22 05:46:09
---

# 数据链路层

## 数据链路层的功能

1. 为上一层网络层提供服务。
2. 加强物理层传输原始比特流的能力。
3. 将物理层上提供的可能出错的物理连接改造为逻辑上无差错的数据链路，使之对网络层表现为一条无差错的链路。

### 为网络层提供服务

1. 无确认的无连接服务（keyword：源机器、目的机器、数据帧、链路连接、确认、丢失帧）
2. 有确认的无连接服务（keyword: 重传）
3. 有确认的面向连接服务（keyword：建立数据链路、传输帧、释放数据链路）

### 链路管理（面向连接服务）

数据链路的建立、维护和释放过程称为链路管理。

### 帧界定、帧同步与透明传输

**数据帧**=首部+分组+尾部

**帧界定**：确定帧的界限

**帧同步**：能够区别帧的起始和终止

**透明传输**：解决传输过程中协议数据单元中数据与协议控制信息相冲突的问题

### 流量控制

流量控制就是[限制源机器的发送速率，不得大于目的机器的接收速率。]{.red}

#### 使用流量控制的原因

在数据帧传输过程中，如果源端发送数据帧过快，目的端来不及处理的数据帧会被后面不断发送来的数据帧所淹没，从而导致帧丢失出错。

#### 使用流量控制的目的

避免由于发送端发送速率过快，导致丢帧的情况。

### 差错检测

用于发送方确认接收方是否正确地接收到其发送的数据。

ARQ（自动重传请求）

CRC（循环冗余校验）

位错和帧错

帧错：丢失、重复或失序等

### 差错检测的过程

ARQ法

1. 发送方将数据帧附加一定的CRC冗余校错码一起发送。
2. 接收方根据校错码来校验数据帧是否发生错误。
3. 如果发现错误则丢弃，发送方超时重传当前数据帧；否则继续接收下一个数据帧。

### 组帧（解决透明传输问题）

#### 字符计数法

首部添加一个计数字段来标明帧内的字符数。

#### 字符填充的首位定界法

SOH表示帧的首部，EOT表示帧的尾部，用转义字符（ESC）来区分特殊字符。

#### 零比特填充的首尾标志法

可以包含任意多个比特，每一个字符编码也可以包含任意个数的比特。

0111110标志一帧的开始和结束，数据中如果连续出现5个1，则在后面添0.

#### 违规编码法

采用那些没有被定义的编码来定界帧的起点和终点。

IEEE 802标准采用了曼彻斯特编码的违规编码法，一个码原01表示1，10表示0，剩余的00，11为无定义编码，即违规编码。

### 差错控制

#### 检错编码

1. 奇偶校验码
2. 循环冗余校验码

#### 纠错编码

海明码

1. 确定海明码位数: 信息位(n)+校验位(k)<=$2^{k}-1$
2. 确定校验位的位置：规定校验位$P_i$的位置在海明码中的第$2^{i-1}$位
3. 分组形成校验关系：每个信息位由其前面的多个检验位进行校验。被校验的数据位的海明位号等于校验该数据位的校验位的汉明位号之和。一个校验位为一个分组。
4. 校验位取值：校验位$P_i$的值为第i组所有位求异或
5. 海明码的校验原理：每个校验组分别利用校验位和参与形成该校验位的信息位进行奇偶校验检查，构成k个校验方程

### 流量控制与可靠传输机制

#### 流量控制、可靠传输与滑动窗口机制

##### 停止-等待流量控制原理

发送方每发送一帧，都要等到接收方的应答信号后，才能发送下一帧；而接收方在接受到每一帧后，收到发送一个对应的应答信号，表示发送方可以发送下一帧；如果接收方一直不反馈应答信号，发送方则一直等待，直到收到应答信号为止。

##### 滑动窗口流量控制原理

[发送窗口]{.blue}：一组连续的允许发送的帧的序号

[接受窗口]{.blue}：一组连续的允许接收的帧的序号

**发送窗口用来**对发送法进行流量控制

**发送窗口的大小**代表[在还未收到对方确认信息的情况下发送方最多还可以发送多少个数据帧]{.red}

在接受端设置接收窗口的目的：是为了控制可以接收哪些数据帧和不可以接收哪些数据帧。

发送端每收到一个确认帧，发送窗口就向前滑动一个帧的位置

当发送窗口内没有可以发送的帧时，发送方就会停止发送，直到收到接收方发送的确认帧使窗口移动，窗口内有可以发送的帧后，才开始继续发送。

滑动窗口的特性：



##### 可靠传输机制

确认：无数据的控制帧

超时重传：发送一个数据帧后开启一个计时器，在一定时间内容没有收到确认帧，则重发该数据帧，直到发送成功为止

自动重传请求（ARQ）：接收方要求发送方重传出错的帧。

传统的三种自动重传请求：Stop-and-Wait ARQ(停止等待自动重传请求) , GBN ARQ(退后N帧自动重传请求) , SR   ARQ(选择性重传) 

#### 单帧滑动窗口与停止-等待协议

#### 多帧滑动窗口与后退N帧协议

#### 多帧滑动窗口与选择重传协议

## 介质访问控制

### 信道划分介质访问控制

#### 多路复用技术

分时、分码、分频

#### 频分多路复用

#### 时分多路复用

#### 波分多路复用

#### 码分多路复用

### 随机访问介质访问控制

#### ALOHA协议

##### 纯ALOHA协议

##### 间隙ALOHA协议

#### CSMA

##### 1-坚持CSMA

##### 非坚持CSMA

##### p-坚持CSMA

#### CSMA/CD

#### CSMA/CA

### 论序访问：令牌传递协议

## 局域网

### 局域网的基本概念和体系结构

### 以太网与IEEE 802.3

#### 以太网的传输介质和网卡

#### 以太网的MAC帧

#### 高速以太网

### IEEE 802.11 无线局域网

#### 无线局域网的组成

##### 有固定基础设施无线局域网

##### 无基础设施移动自组织网

#### 802.11局域网的MAC帧

### VLAN基本概念和基本原理

## 广域网

### 广域网的基本概念

### PPP协议

### HDLC协议 

## 数据链路层设备


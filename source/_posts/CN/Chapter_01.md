---
title: 第一章 计算机网络体系结构
tags:
  - 计算机网络
valine: true
abbrlink: fa8d3d09
date: 2023-06-18 14:14:29
---


{% markmap 400px %}

- 计算机网络体系结构
  - 计算机网络概述
    - 计算机网络的概念
      - 计算机网络是一个将分散的、具有独立功能的计算机系统，通过设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。简而言之，计算机网络是一些互联、自治的计算机的集合
    - 计算机网络的组成
      - 组成部分
        - 硬件
          - 端系统：主机
          - 通信链路：双绞线、光纤
          - 交换设备：路由器、交换机
          - 通信处理机：网卡
        - 软件
          - 方便用户实现资源共享和信息通信的软件工具(网络操作系统、邮件收发程序、FTP程序、聊天程序)
        - 协议
      - 工作方式
        - 边缘部分
        - 核心部分
      - 功能组成
        - 资源子网
        - 通信子网
    - 计算机网络的功能
      - 数据通信（最基础的功能）
      - 资源共享
      - 分布式处理
      - 提高可靠性
      - 负载均衡
    - 计算机网络的分类
      - 按照范围分类
        - 广域网
        - 城域网
        - 局域网
        - 个人局域网
      - 按照传输技术分类
        - 广播式
        - 点对点式
      - 按照拓扑结构分类
        - 总线形
        - 星形
        - 环形
        - 网状
      - 按照使用者分类
        - 公用网
        - 专用网
      - 按照交换技术分类
        - 电路交换
        - 报文交换
        - 分组交换
    - 计算机网络的标准化工作
    - :star:计算机网络的性能指标
      - 带宽：`通信线路传输数据的能力，即单位时间内通信线路中能通过的最高比特数，单位为b/s.`
      - 时延：`指数据从发送端到接收端所需要的时间`
        - 发送时延：`将数据从发送端完全发出的时间，即从第一比特开始到最后一个比特离开发送端的时间。`
          - 发送时延 = 分组长度/信道宽度
        - 传播时延：`数据在通信线路中的传输时间`
          - 传播时延=信道长度/电磁波在信道上的传播速率
        - 处理时延：`存储转发时，对数据的处理时间`
        - 排队时延：`在路由器中排队等待转发的时间`
        - 总时延=发送时延+传播时延+处理时延+排队时延（没有特殊说明，处理时延和排队时延可以忽略不计）
      - 时延带宽积：`指第一个比特从发送端到接收端的这段时间内，发送端发送的比特数量。`
        - 时延带宽积=传播时延$\times$信道宽度
      - 往返时延：`指发送端发送一个段分组，到发送端收到接收端的确认（接收端接收到分组后立即发送确认），总共经历的时延。`
      - 吞吐量：指单位时间内通过某一网络（信道、接口）的数据量。
      - 速率：在数字信道上传输数据的速率
      - 信道利用率： 指某一信号有百分之几的时间是有数据通过的
        -  信道利用率=有数据通过时间/（有+无）数据通过时间
  - 计算机网体系结构与参考模型
    - 计算机网络分层结构
      - 分层的基本原则
        - 每层都实现一种相对独立的功能，降低大系统的复杂度
        - 各层之间界面自然清晰，易于理解，相互交流尽可能少
        - 各层功能的精确定义独立于具体的实现方法，可以采用最合适的技术实现
        - 保持下层对上层的独立性，上层单向使用下层提供的服务。
        - 整个分层结构应能促进标准化工作
      - 实体：指任何可以接受和发送信息的硬件或软件进程，通常是一个特定的软件模块。
      - 协议数据单元（PDU）=服务数据单元（SDU）+ 协议控制信息（PCI）
        - PDU：对等层之间数据传输的单位
        - SDU：为完成用户所要求的功能而应传输的数据
        - PCI：控制协议操作的信息
      - 层次结构
        - 本层使用下一层提供的服务来实现本层的功能，同时要为上一层提供服务。
        - 最底层只提供服务；中间层是下一层的服务使用者，也是上一层的服务提供者；最上层面向用户提供服务
        - 上一层只能调用相邻下层提供的服务接口；下层提供的服务的实现细节对上层而言是透明的。
        - 两台主机通信时，对等层在逻辑上有一条直接信道，表现为不经过下层就把信息传递给对方
    - 计算机网络协议、接口、服务的概念
      - 协议：
        - 一般定义：规则的集合
        - 网络协议定义：网络中数据交换的规则、标准或约定。
          - 是控制两个对等实体进行通信的规则的集合，是水平的
          - 两个不对等的实体间是不存在协议的
        - 协议的组成
          - 语法：规定了传输数据的格式。
          - 语义：规定了所要完成的功能，即需要发出何种控制信息、完成何种动作和做出何种应答。
          - 同步：规定了执行各种操作的条件、时序关系等，即事件实现顺序的详细说明。
          - 一个完成的协议通常具有线路管理（建立、释放连接）、差错检测、数据转换等功能。
      - 接口：指同一结点内相邻两层间交换信息的连接点，是一个系统内部的规定。
        - 同一结点相邻两层的实体通过服务访问点(SAP)进行交互。
        - 服务是通过SAP提供给上层使用的。
      - 服务：指下层为紧邻上层提供的功能调用，它是垂直的。
        - 上层使用下层所提供的服务时必须与下层交换一些命令，这些命令就是服务原语
        - OSI中的四类服务原语
          - 请求（Request）：由服务用户发往服务提供者，请求完成某项工作。
          - 指示（Indication）：由服务提供者发往服务用户，指示用户做某件事情。
          - 响应（Response）：由服务用户发往服务提供者，作为对指示的响应。
          - 证实（Confirmation）：由服务提供者发往服务用户，用以作为对请求的证实。
        - 有应答服务包括四类原语，而无应答服务只有请求原语和指示原语。
        - 协议和服务的区别与联系
          - 只有本层协议的实现才能保证为上层提供服务。本层的服务用户只能看见服务看不见下层的协议，即下层的协议对上层的服务用户是透明的。
          - 协议是`水平的`，即协议是控制对等实体之间通信的规则；而服务是`垂直的`，即服务是由下层通过层间接口向上层提供服务的
          - 并非在一层内完成的全部功能都称为服务，只有那些能够被高一层实体“看得见”的功能才叫服务
          - 协议、接口、服务三者之间的关系
            ![协议、接口、服务的关系图](https://gitee.com/fangcongss/blog-pic/raw/master/img/%E5%8D%8F%E8%AE%AE%E3%80%81%E6%8E%A5%E5%8F%A3%E3%80%81%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%85%B3%E7%B3%BB%E5%9B%BE.png)
        - 服务的三种分类方式
          - 面向连接服务与无连接服务
            - 面向连接服务在面向服务中，通信双方必须先建立连接，分配对应的资源，以保证通信能够正常进行，传输结束后释放连接和所占用的资源。
            - 面向连接服务可以分为建立连接、传输数据、释放连接三个阶段。
          - 无连接服务，通信前双方不需要建立连接，需要发送数据时可直接发送，把每个带有目的地址的包（报文分组）传送到线路上，有系统选定线路进行传输。
          - 可靠服务和不可靠服务
            - 可靠服务是指网络具有纠错、检错、应答机制，能保证数据正确、可靠地送达目的地。
            - 不可靠服务是指网络尽量正确、可靠地传送，而不保证数据正确、可靠地传送到目的地。
            - 对于提供不可靠服务的网络，其网络的正确性、可靠性要用户或应用来保证。
          - 有应答服务和无应答服务  
            - 有应答服务是指接收方在收到数据后向发送方给出相应的应答，该应答由传输系统内部自动实现，而不由用户实现。
            - 无应答服务是指接收方收到数据后不自动给出应答。
    - ISO/OSI参考模型和TCP/IP模型

|层级|名称|功能|协议/设备|数据单元格式|
|---|---|---|---|---|
|应用层|Application Layer|提供应用程序间的通信服务|HTTP, SMTP, FTP, DNS|报文|
|表示层|Presentation Layer|对数据进行格式、加密、压缩等处理|SSL/TLS, JPEG, MPEG|数据|
|会话层|Session Layer|建立、管理和结束会话|RPC, NetBIOS|数据|
|传输层|Transport Layer|可靠传输和错误恢复|TCP, UDP|报文、段|
|网络层|Network Layer|提供路由和转发|IP, ICMP, ARP|数据包、数据帧|
|数据链路层|Data Link Layer|将数据划分为数据帧，并提供错误检测和流控|Ethernet, PPP|帧|
|物理层|Physical Layer|负责比特流的传输，包括传输介质、物理接口、电气信号等|LAN, WAN, Modem|比特流|

{% endmarkmap %}


- 计算机网络体系结构
  - 计算机网络概述
    - 计算机网络的概念
      - 计算机网络是一个将分散的、具有独立功能的计算机系统，通过设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。简而言之，计算机网络是一些互联、自治的计算机的集合
    - 计算机网络的组成
      - 组成部分
        - 硬件
          - 端系统：主机
          - 通信链路：双绞线、光纤
          - 交换设备：路由器、交换机
          - 通信处理机：网卡
        - 软件
          - 方便用户实现资源共享和信息通信的软件工具(网络操作系统、邮件收发程序、FTP程序、聊天程序)
        - 协议
      - 工作方式
        - 边缘部分
        - 核心部分
      - 功能组成
        - 资源子网
        - 通信子网
    - 计算机网络的功能
      - 数据通信（最基础的功能）
      - 资源共享
      - 分布式处理
      - 提高可靠性
      - 负载均衡
    - 计算机网络的分类
      - 按照范围分类
        - 广域网
        - 城域网
        - 局域网
        - 个人局域网
      - 按照传输技术分类
        - 广播式
        - 点对点式
      - 按照拓扑结构分类
        - 总线形
        - 星形
        - 环形
        - 网状
      - 按照使用者分类
        - 公用网
        - 专用网
      - 按照交换技术分类
        - 电路交换
        - 报文交换
        - 分组交换
    - 计算机网络的标准化工作
    - :star:计算机网络的性能指标
      - 带宽：`通信线路传输数据的能力，即单位时间内通信线路中能通过的最高比特数，单位为b/s.`
      - 时延：`指数据从发送端到接收端所需要的时间`
        - 发送时延：`将数据从发送端完全发出的时间，即从第一比特开始到最后一个比特离开发送端的时间。`
          - 发送时延 = 分组长度/信道宽度
        - 传播时延：`数据在通信线路中的传输时间`
          - 传播时延=信道长度/电磁波在信道上的传播速率
        - 处理时延：`存储转发时，对数据的处理时间`
        - 排队时延：`在路由器中排队等待转发的时间`
        - 总时延=发送时延+传播时延+处理时延+排队时延（没有特殊说明，处理时延和排队时延可以忽略不计）
      - 时延带宽积：`指第一个比特从发送端到接收端的这段时间内，发送端发送的比特数量。`
        - 时延带宽积=传播时延$\times$信道宽度
      - 往返时延：`指发送端发送一个段分组，到发送端收到接收端的确认（接收端接收到分组后立即发送确认），总共经历的时延。`
      - 吞吐量：指单位时间内通过某一网络（信道、接口）的数据量。
      - 速率：在数字信道上传输数据的速率
      - 信道利用率： 指某一信号有百分之几的时间是有数据通过的
        -  信道利用率=有数据通过时间/（有+无）数据通过时间
  - 计算机网体系结构与参考模型
    - 计算机网络分层结构
      - 分层的基本原则
        - 每层都实现一种相对独立的功能，降低大系统的复杂度
        - 各层之间界面自然清晰，易于理解，相互交流尽可能少
        - 各层功能的精确定义独立于具体的实现方法，可以采用最合适的技术实现
        - 保持下层对上层的独立性，上层单向使用下层提供的服务。
        - 整个分层结构应能促进标准化工作
      - 实体：指任何可以接受和发送信息的硬件或软件进程，通常是一个特定的软件模块。
      - 协议数据单元（PDU）=服务数据单元（SDU）+ 协议控制信息（PCI）
        - PDU：对等层之间数据传输的单位
        - SDU：为完成用户所要求的功能而应传输的数据
        - PCI：控制协议操作的信息
      - 层次结构
        - 本层使用下一层提供的服务来实现本层的功能，同时要为上一层提供服务。
        - 最底层只提供服务；中间层是下一层的服务使用者，也是上一层的服务提供者；最上层面向用户提供服务
        - 上一层只能调用相邻下层提供的服务接口；下层提供的服务的实现细节对上层而言是透明的。
        - 两台主机通信时，对等层在逻辑上有一条直接信道，表现为不经过下层就把信息传递给对方
    - 计算机网络协议、接口、服务的概念
      - 协议：
        - 一般定义：规则的集合
        - 网络协议定义：网络中数据交换的规则、标准或约定。
          - 是控制两个对等实体进行通信的规则的集合，是水平的
          - 两个不对等的实体间是不存在协议的
        - 协议的组成
          - 语法：规定了传输数据的格式。
          - 语义：规定了所要完成的功能，即需要发出何种控制信息、完成何种动作和做出何种应答。
          - 同步：规定了执行各种操作的条件、时序关系等，即事件实现顺序的详细说明。
          - 一个完成的协议通常具有线路管理（建立、释放连接）、差错检测、数据转换等功能。
      - 接口：指同一结点内相邻两层间交换信息的连接点，是一个系统内部的规定。
        - 同一结点相邻两层的实体通过服务访问点(SAP)进行交互。
        - 服务是通过SAP提供给上层使用的。
      - 服务：指下层为紧邻上层提供的功能调用，它是垂直的。
        - 上层使用下层所提供的服务时必须与下层交换一些命令，这些命令就是服务原语
        - OSI中的四类服务原语
          - 请求（Request）：由服务用户发往服务提供者，请求完成某项工作。
          - 指示（Indication）：由服务提供者发往服务用户，指示用户做某件事情。
          - 响应（Response）：由服务用户发往服务提供者，作为对指示的响应。
          - 证实（Confirmation）：由服务提供者发往服务用户，用以作为对请求的证实。
        - 有应答服务包括四类原语，而无应答服务只有请求原语和指示原语。
        - 协议和服务的区别与联系
          - 只有本层协议的实现才能保证为上层提供服务。本层的服务用户只能看见服务看不见下层的协议，即下层的协议对上层的服务用户是透明的。
          - 协议是`水平的`，即协议是控制对等实体之间通信的规则；而服务是`垂直的`，即服务是由下层通过层间接口向上层提供服务的
          - 并非在一层内完成的全部功能都称为服务，只有那些能够被高一层实体“看得见”的功能才叫服务
          - 协议、接口、服务三者之间的关系
            ![协议、接口、服务的关系图](https://gitee.com/fangcongss/blog-pic/raw/master/img/%E5%8D%8F%E8%AE%AE%E3%80%81%E6%8E%A5%E5%8F%A3%E3%80%81%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%85%B3%E7%B3%BB%E5%9B%BE.png)
        - 服务的三种分类方式
          - 面向连接服务与无连接服务
            - 面向连接服务在面向服务中，通信双方必须先建立连接，分配对应的资源，以保证通信能够正常进行，传输结束后释放连接和所占用的资源。
            - 面向连接服务可以分为建立连接、传输数据、释放连接三个阶段。
          - 无连接服务，通信前双方不需要建立连接，需要发送数据时可直接发送，把每个带有目的地址的包（报文分组）传送到线路上，有系统选定线路进行传输。
          - 可靠服务和不可靠服务
            - 可靠服务是指网络具有纠错、检错、应答机制，能保证数据正确、可靠地送达目的地。
            - 不可靠服务是指网络尽量正确、可靠地传送，而不保证数据正确、可靠地传送到目的地。
            - 对于提供不可靠服务的网络，其网络的正确性、可靠性要用户或应用来保证。
          - 有应答服务和无应答服务  
            - 有应答服务是指接收方在收到数据后向发送方给出相应的应答，该应答由传输系统内部自动实现，而不由用户实现。
            - 无应答服务是指接收方收到数据后不自动给出应答。
    - ISO/OSI参考模型和TCP/IP模型

- ISO/OSI参考模型

|层级|名称|功能|协议/设备|数据单元格式|
|---|---|---|---|---|
|应用层|Application Layer|提供应用程序间的通信服务|HTTP, SMTP, FTP, DNS|报文|
|表示层|Presentation Layer|对数据进行格式、加密、压缩等处理|SSL/TLS, JPEG, MPEG|数据|
|会话层|Session Layer|建立、管理和结束会话|RPC, NetBIOS|数据|
|传输层|Transport Layer|可靠传输和错误恢复|TCP, UDP|报文、段|
|网络层|Network Layer|提供路由和转发|IP, ICMP, ARP|数据包、数据帧|
|数据链路层|Data Link Layer|将数据划分为数据帧，并提供错误检测和流控|Ethernet, PPP|帧|
|物理层|Physical Layer|负责比特流的传输，包括传输介质、物理接口、电气信号等|LAN, WAN, Modem|比特流|

  - TCP/IP四层模型
  
|层级|名称|功能|协议/设备|数据单元格式|
|---|---|---|---|---|
|应用层|Application Layer|提供应用程序间的通信服务|HTTP, FTP, SMTP, DNS|报文|
|传输层|Transport Layer|可靠的、点对点的数据传输|TCP, UDP|报文段、用户数据报|
|网络层|Network Layer|提供数据包的透明传输和路由选择功能|IP, ICMP, ARP|数据包|
|链路层|Link Layer|负责数据帧的传输、误码检测和纠错|Ethernet, PPP, SLIP|数据帧|

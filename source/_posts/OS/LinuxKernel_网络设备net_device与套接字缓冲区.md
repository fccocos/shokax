---
title: Linux内核分析——网络设备net_device和套接字缓冲区
math: true
date: 2023-08-20 15:42:54
---

## 一、Linux内核协议层次结构

计算机网络

开放系统互联模型（OSI）定义7个逻辑网线层

Linux网络栈只涉及到3层，其中L2-数据链路层、L3-网络层、L4-传输层

本质来说，内核栈主要任务将接收到的数据包从L2（网络设别驱动程序）传输L3（网络层，通常为IPv4/IPv6）。接下来如果数据包目的地为当前设备，Linux内核网络栈将传递给L4（传输层。应用到TCP/UDP协议监听套接字）。如果数据包需要转发，将其交还给L2进行传输。对于本地所生成出站的数据包，我们从L4依次传递给L3和L2，最后由网络设别驱动程序进行传输。

网络设别的net_device结构类型，设备参数决定数据包是否需要分段（1500字节）。具体源码

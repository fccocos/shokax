---
title: 汇编语言程序设计
math: true
date: 2023-06-12 21:43:19
---

# 第一章 在MacOS中搭建汇编环境

## 一、下载并安装dosbox

dosbox的下载网址为[DOSBox, an x86 emulator with DOS](https://www.dosbox.com/)

将下载到的安装点开，并将程序拖动到你想要安装的目录

## 二、使用DOSBox工具

1. 引导挂在一个C盘 `intro mount`
2. 挂在C盘命令 `mount C your/directory`
3. 进入C盘`C:`
4. 查看当前目录`dir`
5. 开启debug `debug`
6. 编译汇编代码 `masm source.asm`
7. 链接目标文件 `link source.obj`
8. 调试源程序`debug source.exe`

# 第二章 调试汇编程序Debug

可以使用Debug程序查看CPU各种寄存器中的内容、内存的情况，并且在机器指令级跟踪程序的运行。

## Debug常用指令及其功能

1. R命令
   - 改变CPU寄存器的内容
   - R 寄存器名 改变指定寄存器的内容
2. D命令（查看数据）
   - 查看内存中的内容 （列出预设地址内存处的128个字节内容）
   - D 段地址：偏移地址 - 列出内存中指定地址的内容
   - D 段地址：偏移地址 结尾偏移地址  -  列出内存中指定地址范围内的内容
3. E命令
   - 改变内存中的内容
   - E 段地址：偏移地址 数据1 数据2 ...
   - E 段地址：偏移地址
     - 逐个访问式修改
     - 空格-接收，继续
     - 会车-结束
4. U命令（查看数据）
   - 将内存中的机器指令翻译成汇编指令
5. A命令（写入汇编指令）
   - 以汇编指令的格式在内存中写入机器指令
6. T命令（执行CS:IP处的指令）
   - 执行机器指令
7. Q命令（退出命令）

## Debug的使用




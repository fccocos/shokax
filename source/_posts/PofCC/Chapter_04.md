---
title: 第四章 指令系统
math: true
date: 2023-08-20 16:59:00
---

{% markmap 750px %}

- 指令系统
  - 指令系统
    - 基本概念
      - 指令：指示计算机执行各种操作的命令
      - 指令系统（指令集）：一台计算机的所有指令的集合
      - 指令体系结构（ISA）：完整地定义了软件和硬件之间的接口，是机器语言或汇编语言程序员所熟悉的。
      - ISA规定的内容：
        - 指令格式
        - 数据类型及格式
        - 操作的存放方式
        - 程序可访问的寄存器个数、位数和编号
        - 存储空间的大小以及编址
        - 寻址方式
        - 指令执行过程的控制方式
    - 指令的基本格式
      - 操作码+地址码
      - 操作码
        - 指出指令中该指令应该执行什么性质的操作以及具有何种功能
        - 识别指令、了解指令功能及区分操作数地址内容的组成和使用方法等关键信息
      - 地址码
        - 给出被操作的信息（指令或数据）的地址，包括参加运算的一个或多个操作数所在的地址、运算结果的保存地址、程序的转移地址、被调用的子程序的入口地址等。
      - 指令字长
        - 指一条指令中所包含的二进制代码数
        - 指令字长取决于操作码的长度、操作数地址的长度和操作数地址的个数
        - 指令字长一般为字节的整数倍
        - 半字长指令：指令长度为机器字长的一半
        - 单字长指令：指令长度与机器字长相等
        - 双字长指令：指令字长是机器字长的两倍
      - 定长指令结构：所有指令的长度都相等
      - 变长指令结构：各种指令的长度随指令功能而异
      - 零地址指令：没有显式的操作数地址
        - 不需要操作数的指令
          - 空指令
          - 停机指令
          - 关中断指令
        - 零地址的运算类指令
          - 压栈操作
          - 退栈操作
      - 一地址指令：只有一个显式的操作数地址
        - 只有目的操作数的单操作数指令
          - 指令含义：$OP(A_1)\to A_1$
          - 加1
          - 减1
          - 求反
          - 求补
        - 隐含约定目的地址的双操作数指令，按指令地址$A_1$可读取的源操作数，指令可隐含约定另一个操作数据由ACC提供，运算结果也将存放到ACC中。
          - 指令含义：$(ACC)OP(A_1)\to ACC $
      - 二地址指令：有两个显式的操作数地址
        - 指令含义：$(A_1)OP(A_2)\to A_1$
        - 常见的算术运算
        - 一些逻辑运算
      - 三地址指令：有三个显式的操作数地址
        - 指令含义：$(A_1)OP(A_2)\to A_3$
      - 四地址指令：
        - 指令含义：$(A_1)OP(A_3)\to A_3,A_4=$下一条将要执行指令的地址
    - 定长操作码指令格式
    - 扩展操作码指令格式
    - 指令的操作类型
      - 数据传送
        - MOV：寄存器之间的传送
        - LOAD：从内存单元读取数据到CPU寄存器
        - STORE：从CPU寄存器写数据到内存单元
      - 算术和逻辑运算
        - ADD：加
        - SUB：减
        - CMP：比较
        - MUL：乘
        - DIV：除
        - INC：自增
        - DEC：自减
        - AND：与
        - OR：或
        - NOT：取反
        - XOR：异或
      - 转移操作
        - JMP：无条件转移
        - BRANCH：条件转移
        - CALL：调用
        - RET：返回
        - TRAP：陷阱
      - 输入输出操作
        - 用于完成CPU与外部设备交换数据或传送控制命令及转态信息
  - 指令的寻址方式
    - 指令寻址和数据寻址
      - 指令寻址
        - 顺序寻址：通过程序计数器PC加1（1个指令字长），自动形成下一条指令的地址
        - 跳跃寻址：通过转移类指令实现
          - 所谓的跳跃是指下一条指令的地址不由程序计数器PC自动给出，而有本条指令给出下条指令地址的计算方式。
          - 是否跳跃可能受到状态寄存器和操作数的控制，跳跃的地址分为绝对地址（由标记符直接得到）和相对地址（相对于当前地址的偏移量），跳跃的结果是当前指令修改PC值，所以下一条指令仍然通过PC给出
      - 数据寻址
        - 是指如何在指令中表示一个操作的地址，如何用这种表示得到操作数或怎样计算出操作数的地址。
    - 常见的数据寻址方式
      - 隐含寻址
      - 立即数寻址
      - 直接寻址
      - 间接寻址
      - 寄存器寻址
      - 寄存器间接寻址
      - 相对寻址
      - 基址寻址
      - 变址寻址
      - 堆栈寻址
  - 程序的机器级代码表示
    - 常用汇编指令介绍
    - 过程调用的机器级表示
    - 选择语句的机器级表示
    - 循环语句的机器级表示
  - CISC和RISC的基本概念
    - 复杂指令系统计算机（CISC）
    - 精简指令系统计算机（RISC）
    - CISC和RISC的比较

{% endmarkmap %}